(function(){"use strict";var t={5491:function(t,n,i){var o=i(9242),e=i(3396);const l={class:"row"},r={class:"col"};function s(t,n,i,o,s,a){const u=(0,e.up)("link-view"),c=(0,e.up)("virtual-link-view");return(0,e.wg)(),(0,e.iD)(e.HY,null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(s.links,((t,n)=>((0,e.wg)(),(0,e.iD)("div",{key:n},[(0,e.Wm)(u,{id:n,url:t.original_link,"short-url":t.short_link,onOnDelete:a.removeItem,onOnOriginalChange:a.changeItem},null,8,["id","url","short-url","onOnDelete","onOnOriginalChange"])])))),128)),s.showVirtualLink?((0,e.wg)(),(0,e.j4)(c,{key:0,onOnEditEnd:a.addItem},null,8,["onOnEditEnd"])):(0,e.kq)("",!0),(0,e._)("div",l,[(0,e._)("div",r,[(0,e._)("button",{id:"addLinkButton",type:"submit",class:"btn btn-primary btn-copy",onClick:n[0]||(n[0]=(...t)=>a.onAdd&&a.onAdd(...t))},"Add")])])],64)}i(7658),i(2062);const a={class:"row"},u={class:"col"},c=(0,e._)("div",{class:"col",style:{"padding-left":"0%"}},[(0,e._)("div",{class:"url-list-group input-group",style:{"margin-left":"0%"}},[(0,e._)("input",{type:"text",class:"form-control",disabled:""}),(0,e._)("div",{class:"input-group-append"},[(0,e._)("button",{type:"button",class:"btn btn-default btn-copy js-tooltip js-copy shadow-none","data-toggle":"tooltip","data-placement":"bottom",title:"Copy to clipboard"},[(0,e._)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,e._)("path",{d:"M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"})])])])])],-1);function d(t,n,i,o,l,r){return(0,e.wg)(),(0,e.iD)("div",a,[(0,e._)("div",u,[(0,e._)("input",{ref:"linkInput",type:"text",class:"form-control",onFocusout:n[0]||(n[0]=(...t)=>r.onFocusChange&&r.onFocusChange(...t))},null,544)]),c])}var p={name:"virtual-link-view",mounted(){const t=this.$refs.linkInput;t.focus()},methods:{onFocusChange(){this.$emit("on-edit-end",this.$refs.linkInput.value)}}},h=i(89);const f=(0,h.Z)(p,[["render",d]]);var v=f;const g={class:"row"},k={class:"col"},w=["value"],m={class:"col",style:{"padding-left":"0%"}},b={class:"url-list-group input-group",style:{"margin-left":"0%"}},_=["value"],y=(0,e._)("div",{class:"input-group-append"},[(0,e._)("button",{type:"button",class:"btn btn-default btn-copy js-tooltip js-copy shadow-none","data-toggle":"tooltip","data-placement":"bottom",title:"Copy to clipboard"},[(0,e._)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,e._)("path",{d:"M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"})])])],-1),A={class:"col-auto"};function O(t,n,i,o,l,r){return(0,e.wg)(),(0,e.iD)("div",g,[(0,e._)("div",k,[(0,e._)("input",{id:"url",ref:"linkInput",type:"text",class:"form-control",value:i.url,onChange:n[0]||(n[0]=(...t)=>r.onLinkChange&&r.onLinkChange(...t))},null,40,w)]),(0,e._)("div",m,[(0,e._)("div",b,[(0,e._)("input",{id:"shortLink",type:"text",class:"form-control",disabled:"",value:i.shortUrl},null,8,_),y])]),(0,e._)("div",A,[(0,e._)("button",{type:"button",class:"btn btn-danger",onClick:n[1]||(n[1]=n=>t.$emit("on-delete",i.id))},"X")])])}var x={name:"link-view",props:["id","shortUrl","url"],methods:{onLinkChange(){const t=this.$refs.linkInput.value;""===t?this.$refs.linkInput.value=this.url:this.$emit("on-original-change",this.id,t)}}};const C=(0,h.Z)(x,[["render",O]]);var H=C,V=i(4161);const L=document.getElementById("csrfmiddlewaretoken"),I=L?L.value:"";V.Z.defaults.headers.common["X-CSRFTOKEN"]=I;var j={name:"App",components:{VirtualLinkView:v,LinkView:H},data(){return{links:[],showVirtualLink:!1}},methods:{onAdd(){this.showVirtualLink=!0},addItem(t){if(""!==t){if(void 0===this.links.find((n=>n.original_link===t))){let n=this;V.Z.post("/createShort",{link:t}).then((i=>{console.log(i.data),n.links.push({id:i.data.id,original_link:t,short_link:window.location.host+"/"+i.data.short_link})}))}this.showVirtualLink=!1}else this.showVirtualLink=!1},changeItem(t,n){let i=this.links[t].id;V.Z.patch("/updateLink",{id:i,newText:n}),console.log(t+" "+n)},removeItem(t){let n=this.links[t].id;V.Z.delete("/deleteLink",{data:{id:n}}),this.links.splice(t,1)},validateUrl(t){try{return new URL(t),!0}catch(n){return!1}}},created(){let t=this;V.Z.get("/getAllLinksData").then((n=>{const i=JSON.parse(n.data);for(let o=0;o<i.length;o++){const n=i[o];t.links.push({id:n.pk,original_link:n.fields.original_link,short_link:window.location.host+"/"+n.fields.short_link})}}))}};const M=(0,h.Z)(j,[["render",s]]);var Z=M;(0,o.ri)(Z).mount("#app")}},n={};function i(o){var e=n[o];if(void 0!==e)return e.exports;var l=n[o]={exports:{}};return t[o].call(l.exports,l,l.exports,i),l.exports}i.m=t,function(){var t=[];i.O=function(n,o,e,l){if(!o){var r=1/0;for(c=0;c<t.length;c++){o=t[c][0],e=t[c][1],l=t[c][2];for(var s=!0,a=0;a<o.length;a++)(!1&l||r>=l)&&Object.keys(i.O).every((function(t){return i.O[t](o[a])}))?o.splice(a--,1):(s=!1,l<r&&(r=l));if(s){t.splice(c--,1);var u=e();void 0!==u&&(n=u)}}return n}l=l||0;for(var c=t.length;c>0&&t[c-1][2]>l;c--)t[c]=t[c-1];t[c]=[o,e,l]}}(),function(){i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,{a:n}),n}}(),function(){i.d=function(t,n){for(var o in n)i.o(n,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};i.O.j=function(n){return 0===t[n]};var n=function(n,o){var e,l,r=o[0],s=o[1],a=o[2],u=0;if(r.some((function(n){return 0!==t[n]}))){for(e in s)i.o(s,e)&&(i.m[e]=s[e]);if(a)var c=a(i)}for(n&&n(o);u<r.length;u++)l=r[u],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(c)},o=self["webpackChunk"]=self["webpackChunk"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(5491)}));o=i.O(o)})();
//# sourceMappingURL=app.703f45b4.js.map